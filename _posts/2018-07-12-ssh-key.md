---
layout: post
title:  "设置SSH密钥连接"
date:   2018-07-12 00:00:00 -0700
categories: linux study-cs
---

在使用SSH连接时，常用的认证方式是通过输入密码来进行。但是每次连接都输入密码可能会觉得特别繁琐，不小心输入错误还得重新输入。其中一种解决方案便是使用密钥进行SSH连接。

首先，我们需要在本地主机上生成一对密钥。我们可以在终端进入你想把密钥保存在的那个目录，输入`ssh-keygen`来生成密钥。首先会提示输入密钥对应的文件名（可直接按Enter键使用默认文件名），然后会提示输入密钥的密码，再次确认密码，此时密钥生成完毕。注意，生成的密钥文件有两个，一个是私钥（无后缀名），一个是公钥（后缀名为`.pub`）。

接下来，我们需要更改密钥文件的权限。在终端中输入
{% highlight bash %}
chmod 600 /path/to/ssh-key
{% endhighlight %}
来修改私钥的权限。

最后，我们需要将公钥添加到远程主机的信任密钥列表。在终端中输入
{% highlight bash %}
ssh-copy-id -i /path/to/ssh-key username@remote_server
{% endhighlight %}

此时，我们就可以使用密钥进行SSH连接了。
{% highlight bash %}
ssh -i /path/to/ssh-key username@remote_server
{% endhighlight %}